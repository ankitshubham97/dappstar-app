# âœ¨Dappstar âœ¨
_Decentralized, temporary & secure access to your favourite content!_
- - -
Before we start, if you are the judge/panelist for , here are important quick links:
1. Live Project: https://dappstar-app.vercel.app/
2. Demo: https://youtu.be/
3. How to interact with the live project: https://github.com/ankitshubham97/dappstar-app#interacting-with-the-live-project

- - -
# Problems with the current state of creator economy?
## Dependency on centralized system
What if the service on which the creator hosted their content goes down? What if the service decides to ban that particular creator for whatever reason? The creator is helpless before such centralized systems!

## Not encrypted, prone to leaks
It is not new to hear of news that due to certain vulnerabilities in the centralized system, the content got leaked. On top of it, they rarely care to encrypt the data and then store it.

## No control on monetization
Creators have no control on monetization because it is solely controlled by the platforms they are on and they deduct heacy platform charges (can go as up as 50%). They have to depend on brand sponsorships and amend their content so that sponsors are happy. This snatches away the freedom from the creators.

- - -
# Solution: Enters Dappstar ðŸ˜Ž
Dappstar is a decentralized-yet-private content sharing platform for creators where they can:

- Store by-default-encrypted content on IPFS
- Token-gate their content
- Get sponsored directly from their fans!
- Manage their content and monetization without any central authority

Fans can:
- View the private content of their favourite content creators by minting their NFTs. They also monetarily support them by minting.
- Choose to tip their favourite content creators.
- Trade the NFT

## How does Dappstar does this?
### Store by-default-encrypted content on IPFS
All the content that is uploaded to Dappstar is first encrypted and then uploaded to IPFS. IPFS guarantees decentralized storage, so there is no central authority managing the storage which in turn guarantees freedom from censorship. Since the files are encrypted and then stored on IPFS, even if the [CID][cid] of the file is publicly known, the content is safe. It could only be decrypted if a person owns the content creator's NFT (more on this in the subsequent section).
### Fast access to content
Since the files are uploaded to IPFS, a single file is duplicated across multiple IPFS nodes guaranteeing high availability.
### Token-gate their content
Access to the content of a creator, say Taylor, is possible only if a person owns Taylor's NFT. This ensures that if a content is good, then the creator is fairly compensated via royalty that is generated by NFT-minting by their fans and NFT trading. This also ensures that creators have control on their content and its distribution.
### Get sponsored directly from their fans!
Apart from the royalty generated when a fan mints a creator's NFT, they can also choose to directly tip their favourite creators in CET!
### Manage their content and monetization without any central authority
On top of all this, creators will be in full control of their content (they can add, remove, edit their content) and the monetization (analyze royalties from NFT minting and tips, who minted, who tipped etc)!
### Trading NFT
The fans can indulge in trading the NFTs which is awesome because it gives them freedom to opt in for new content creators and move away from those who they don't like. It also opens up an opportunity to do core NFT trading.
- - -
# Dappstar walkthrough
The app is live at https://dappstar-app.vercel.app/ and here is the [demo video][demo]. Let's break down the walkthrough into 2 segments:
- Creator's perspective
- Fan's perspective

## Creator's perspective.
Let's assume that Taylor is the creator (For the sake of this hackathon, let's assume that there is only one creator on the Dappstar's platform). Also, her wallet address is 0x4ad53d31Cb104Cf5f7622f1AF8Ed09C3ca980523 and she created an NFT smart contract via this wallet and is currently deployed on [Coinex testnet][chain] at the address [0x476eaA416e7f2DaE54600d86c657c41F4081Ff9C][nft-contract-address]. The NFT contract enables others to mint a token for themselves by paying certain amount in [CET][CET]. This amount flows back to her wallet address. And the holders of the NFT could get access to her content!
When she signs in with her wallet, she can:
1. view her content
2. manage(add/delete) her content
3. check the revenue generated so far from:
a. others minting her NFTs.
b. others tipping/donating her.

## Fan's perspective
Let's assume Ankit is one of those top fans of Taylor. He came to know that if he mints Taylor's NFT on Dappstar, he would be able to watch her content and support her as well. He just goes to the platform at https://dappstar-app.vercel.app/, connects his wallet and then since he does not own any of her NFTs, he sees an option to mint. He mints, pays the fee and reconnects his wallet. Voila! He is able to see her content. He also sees option to tip her and he usually tips when he finds some content to be too good!
Further, he can buy-and-sell these NFTs as per his wish! Or just keep them as souvenirs!
- - -

## Deep diving into the implementation of the token gating
Let's try to understand how it all works by going through the journey!
1. User connects his wallet with the intention to view the private content. (Assume he already has minted the NFT)
2. When he connects the wallet, he basically signs a nonce. The client passes the nonce, signature & his wallet address to the back end where the latter runs 2 checks: verifies the signature & verifies that the address holds the NFT. If all are satisfied, it issues an access token to the client as a cookie. This access token is valid for an hour
3. The client passes this access token as a cookie to server for all the subsequent requests. If the access token is not expired, the back end responds with the protected content, otherwise it denies.
4. Let's say the access token expires after an hour. The client can again get a new access token until the wallet holds the NFT!

## Deep diving into the implementation of the content encryption and storage on IPFS
1. The creator goes to https://dappstar-app.vercel.app/ and connects her wallet.
2. She sees an option to `manage` her content where she can `Add files`. She proceeds to upload a new file.
3. Dappstar encrypts the file with the creator's key and uploads to IPFS via Chainlink. (Chainlink provides a nice AWS-S3-like interface, so its easier for Dappstar to manage files.)
4. Even though distributed, the content is secure (because of encryption) and highly available (multiple IPFS nodes hosting the content)
5. When a fan with NFT tries to access a content, Dappstar verifies he really does hold NFT. After verification, Dappstar loads the encrypted file from IPFS, decrypts it using the creator's key and delivers to the fan.

## Deep diving into the implementation of the smart contract
### d

## Some negative user flows:
**User tries to connect a random wallet with no NFT**
He won't be able to get the access token because the wallet must be containing the NFT!

<to write more>
  
- - -
# Interacting with the live project
The project is running live on https://dappstar-app.vercel.app/
[The smart contract is deployed on Coinex testnet.][nft-contract-address]

## Coinex testnet network details (for metamask):
| Network name | Coinex Chain Testnet |
| ------ | ------ |
| New RPC URL | https://testnet-rpc.coinex.net/ |
| Chain ID | 53 |
| Currency symbol | tCET |
| Block explorer | https://testnet.coinex.net/ |

## Checking happy path

If you want to interact with the live app, you would need a Metamask wallet switched to Coinex testnet which has at least one [NFT][nft-contract-address] (as told in the [demo video][demo]). Please note that if you are the creator of the NFT contract, then you don't need to own any NFT to gain access to your own content (creator of NFT is actually the content creator herself). Here is a list of valid wallets:

| User type | Public address | Private key |
| ------ | ------ | ------ |
| Creator | 0x4ad53d31Cb104Cf5f7622f1AF8Ed09C3ca980523 | dec5213b700bc944b06584aaf3d508f88a1ce0221b77067b7e7b95d7b88d2ae3 |
| Fan | 0x5d905Cd5734A457139bc04c77CAAf3DFCBf0bA33 | aa2f90405e3595239c83d51dcdb7070e14010c472bb69acc284f38558ddde8d7 |

## Checking unhappy path

To check the unhappy path, you could just use any random wallet to connect to the app.

## Extras
You could also check out these:
1. Use creator's wallet and explore adding/deleting content
2. Use creator's wallet and view revenues
3. Use fan's wallet and explore the private content
4. Use fan's wallet and view the NFTs that you own
5. Use fan's wallet and gift NFT to some other address
6. Use fan's wallet and donate some CETs to the creator

- - -

# Future
<To write>

[chain]: <https://testnet.coinex.net/>
[nft-contract-address]: <https://testnet.coinex.net/address/0x476eaA416e7f2DaE54600d86c657c41F4081Ff9C>
[CET]: <https://www.coinex.com/token>
[demo]: <https://youtu.be>
[cid]: <https://docs.ipfs.tech/concepts/content-addressing/>
